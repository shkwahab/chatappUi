"use strict";var e=require("react/jsx-runtime");function r(e){var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var c=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,c.get?c:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}var t=r(require("react"));const c="r-b-s-top",n="r-b-s-bottom";exports.ScrollWrapper=({minScroll:r,smoothBehavior:u,topCallback:o,bottomCallback:s,children:i})=>{const l=t.useRef(0),a=t.useRef(null),f=t.useRef(null),b=t.useRef(null),d=t.useRef(!1);t.useLayoutEffect((()=>{p()}),[]),t.useLayoutEffect((()=>{let e;return a&&a.current&&(l.current=a.current.scrollHeight-a.current.clientHeight-a.current.scrollTop),p(),(s||o)&&(e=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.id===c&&h(),e.isIntersecting&&e.target.id===n&&s&&"function"==typeof s&&s()}))}),{}),o&&f.current&&e.observe(f.current),s&&b.current&&e.observe(b.current)),()=>{e&&e.disconnect()}}));const h=()=>{o&&"function"==typeof o&&d.current&&o()},p=()=>{a&&a.current&&(!r||"number"==typeof r&&l.current<r)&&(u?(b?.current?.scrollIntoView({behavior:"smooth"}),d.current||setTimeout((()=>{d.current=!0}),100)):(a.current.scrollTop=a.current.scrollHeight-a.current.clientHeight,d.current||(d.current=!0)))};return e.jsxs("div",{ref:a,className:"react-chat-bottom-scroll",children:[o&&e.jsx("div",{id:c,ref:f}),i,(s||u)&&e.jsx("div",{id:n,ref:b})]})};
//# sourceMappingURL=index.js.map
