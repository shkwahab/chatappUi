import{jsxs as r,jsx as e}from"react/jsx-runtime";import*as t from"react";const c="r-b-s-top",n="r-b-s-bottom",o=({minScroll:o,smoothBehavior:u,topCallback:s,bottomCallback:l,children:i})=>{const a=t.useRef(0),f=t.useRef(null),m=t.useRef(null),b=t.useRef(null),h=t.useRef(!1);t.useLayoutEffect((()=>{d()}),[]),t.useLayoutEffect((()=>{let r;return f&&f.current&&(a.current=f.current.scrollHeight-f.current.clientHeight-f.current.scrollTop),d(),(l||s)&&(r=new IntersectionObserver((r=>{r.forEach((r=>{r.isIntersecting&&r.target.id===c&&p(),r.isIntersecting&&r.target.id===n&&l&&"function"==typeof l&&l()}))}),{}),s&&m.current&&r.observe(m.current),l&&b.current&&r.observe(b.current)),()=>{r&&r.disconnect()}}));const p=()=>{s&&"function"==typeof s&&h.current&&s()},d=()=>{f&&f.current&&(!o||"number"==typeof o&&a.current<o)&&(u?(b?.current?.scrollIntoView({behavior:"smooth"}),h.current||setTimeout((()=>{h.current=!0}),100)):(f.current.scrollTop=f.current.scrollHeight-f.current.clientHeight,h.current||(h.current=!0)))};return r("div",{ref:f,className:"react-chat-bottom-scroll",children:[s&&e("div",{id:c,ref:m}),i,(l||u)&&e("div",{id:n,ref:b})]})};export{o as ScrollWrapper};
//# sourceMappingURL=index.js.map
